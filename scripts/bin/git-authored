#!/bin/bash

if ! [ -x "$(command -v glab)" ]; then
  echo "glab cli is not installed"
  return
fi

git pull
MR=$(glab mr list --author hcramer1 | cat | grep -v 'open merge requests' | awk '{print $NF }' | tr -d '()' | awk NF | fzf --prompt "Choose Your MR: " --height=~50% --layout=reverse --border --exit-0)

if [[ -z $MR ]]; then
  exit
fi

git checkout $MR
