#!/bin/bash

if ! command -v stow &> /dev/null
then
    echo "Stow must be installed first."
    exit
fi


OS=$(uname)

# By default we just use stow to install the directories as listed.
# However, if any installations require customization, we can do that here.
for dir in $(pwd)/*/
do
    DIR_ROOT="${dir%*/}"
    DIR_NAME="${DIR_ROOT##*/}"
    echo "Installing ${DIR_NAME}..."

    case $DIR_NAME in
      executables)
        stow "$DIR_NAME" -t ~/.local/bin
        echo '  Added binaries and scripts to ~/.local/bin'
        ;;
      git)
        stow "$DIR_NAME"
        git config --global core.excludesfile ~/.gitignore
        echo '  Added global gitignore.'
        ;;
      *)
        stow "$DIR_NAME"
        ;;
    esac

done
